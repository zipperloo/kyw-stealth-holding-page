<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Know Your Worth - Coming Soon">
  <meta name="theme-color" content="#111827">
  <meta name="robots" content="noindex, nofollow">
  <title>Know Your Worth</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { 
      overflow: hidden; 
      font-family: 'Inter', sans-serif;
      color: #e5e7eb;
      perspective: 1200px;
      background: #0f1117;
      width: 100%;
      height: 100%;
      min-height: 100vh;
    }

    /* BACKGROUND GRID */
    .background-grid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-image: 
        linear-gradient(to right, rgba(96, 77, 228, 0.12) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(76, 110, 245, 0.12) 1px, transparent 1px);
      background-size: 30px 30px;
      z-index: 1;
      pointer-events: none;
    }

    /* ANIMATED BACKGROUND ORBS */
    @keyframes orb-float-1 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      25% { transform: translate(80px, -60px) scale(1.1); }
      75% { transform: translate(-80px, 60px) scale(0.95); }
    }

    @keyframes orb-float-2 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(-100px, 100px) scale(1.05); }
    }

    .orb {
      position: fixed;
      border-radius: 50%;
      filter: blur(100px);
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .orb-1 {
      width: 600px;
      height: 600px;
      background: radial-gradient(circle, #604de4 0%, transparent 70%);
      top: -200px;
      right: -200px;
      animation: orb-float-1 20s ease-in-out infinite;
      opacity: 0.3;
    }

    .orb-2 {
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, #4c6ef5 0%, transparent 70%);
      bottom: -150px;
      left: -150px;
      animation: orb-float-2 25s ease-in-out infinite;
      opacity: 0.25;
    }

    /* MOBILE: Disable floating orb animations for performance */
    @media (max-width: 768px) and (hover: none) {
      .orb-1,
      .orb-2 {
        animation: none !important;
      }
    }    /* CENTER STAGE */
    .center-stage {
      position: fixed;
      inset: 0;
      z-index: 10;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px;
      height: 100vh;
    }

    /* AI ETHEREAL RING - Organic blobby cloud effect with multiple traces */
    .ai-ring-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 700px;
      height: 700px;
      display: flex;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }

    /* Multiple organic blob traces - smooth glow effect */
    .ai-ring-trace {
      position: absolute;
      width: 580px;
      height: 580px;
      border: none;
      border-radius: 50%;
      box-shadow: inset 0 0 20px rgba(130, 100, 255, 0.15), 0 0 10px rgba(130, 100, 255, 0.08);
      filter: blur(1.5px);
      transition: all 0.5s ease;
      will-change: transform;
      transform: translateZ(0);
    }

    /* Reduced traces for better mobile performance - keep 7 instead of 15 */
    .ai-ring-trace-1 {
      animation: blob-trace-1 18s ease-in-out infinite;
      width: 480px; height: 480px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.18), 0 0 8px rgba(130, 100, 255, 0.1);
    }
    .ai-ring-trace-2 {
      animation: blob-trace-1 18s ease-in-out infinite 0.4s;
      width: 510px; height: 510px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.15), 0 0 8px rgba(130, 100, 255, 0.09);
    }
    .ai-ring-trace-3 {
      animation: blob-trace-1 18s ease-in-out infinite 0.8s;
      width: 540px; height: 540px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.12), 0 0 8px rgba(130, 100, 255, 0.08);
    }
    .ai-ring-trace-4 {
      animation: blob-trace-1 18s ease-in-out infinite 1.2s;
      width: 570px; height: 570px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.08), 0 0 8px rgba(130, 100, 255, 0.06);
    }
    .ai-ring-trace-5 {
      animation: blob-trace-1 18s ease-in-out infinite 1.6s;
      width: 600px; height: 600px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.06), 0 0 8px rgba(130, 100, 255, 0.04);
    }
    .ai-ring-trace-6 {
      animation: blob-trace-1 18s ease-in-out infinite 2s;
      width: 630px; height: 630px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.04), 0 0 8px rgba(130, 100, 255, 0.03);
    }
    .ai-ring-trace-7 {
      animation: blob-trace-1 18s ease-in-out infinite 2.4s;
      width: 660px; height: 660px;
      box-shadow: inset 0 0 15px rgba(130, 100, 255, 0.02), 0 0 8px rgba(130, 100, 255, 0.01);
    }
    /* Hide traces 8-15 for mobile optimization */
    .ai-ring-trace-8,
    .ai-ring-trace-9,
    .ai-ring-trace-10,
    .ai-ring-trace-11,
    .ai-ring-trace-12,
    .ai-ring-trace-13,
    .ai-ring-trace-14,
    .ai-ring-trace-15 {
      display: none;
    }

    /* MOBILE: Disable morphing animations, use static state */
    @media (max-width: 768px) and (hover: none) {
      .ai-ring-trace-1,
      .ai-ring-trace-2,
      .ai-ring-trace-3,
      .ai-ring-trace-4,
      .ai-ring-trace-5,
      .ai-ring-trace-6,
      .ai-ring-trace-7 {
        animation: none !important;
        border-radius: 50% !important;
      }
    }

    /* Outer glow aura - ring-shaped, no center fill */
    .ai-ring-aura {
      position: absolute;
      width: 650px;
      height: 650px;
      border-radius: 50%;
      border: 60px solid rgba(120, 100, 255, 0.04);
      background: transparent;
      filter: blur(30px);
      animation: aura-pulse 5s ease-in-out infinite;
      transition: all 0.5s ease;
    }



    /* Activity states - color shifts purple-blue to blue-purple */
    
    /* QUIET: visible but calm */
    .ai-ring-container.quiet .ai-ring-trace {
      opacity: 0.4;
      border-color: rgba(140, 90, 255, 0.45);
      border-width: 2px;
      filter: blur(1px);
    }
    .ai-ring-container.quiet .ai-ring-aura { opacity: 0.3; }

    /* IDLE: steady presence */
    .ai-ring-container.idle .ai-ring-trace {
      opacity: 0.5;
      border-color: rgba(130, 100, 255, 0.5);
      border-width: 2px;
      filter: blur(0.5px);
    }
    .ai-ring-container.idle .ai-ring-aura { opacity: 0.4; }

    /* ACTIVE: clearly visible, energized */
    .ai-ring-container.active .ai-ring-trace {
      opacity: 0.7;
      border-color: rgba(100, 140, 255, 0.7);
      border-width: 4px;
      filter: blur(0.5px);
      box-shadow: 0 0 20px rgba(100, 140, 255, 0.3);
    }
    .ai-ring-container.active .ai-ring-aura { opacity: 0.7; }

    /* PEAK: blazing, fully alive */
    .ai-ring-container.peak .ai-ring-trace {
      opacity: 1;
      border-color: rgba(80, 180, 255, 0.95);
      border-width: 6px;
      filter: blur(0px);
      box-shadow: 0 0 40px rgba(80, 180, 255, 0.6), 0 0 80px rgba(100, 160, 255, 0.3);
    }
    .ai-ring-container.peak .ai-ring-aura { opacity: 1; }

    /* Fade in animation for page load */
    @keyframes fade-in {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    /* Blob trace animations - more extreme organic wobble patterns */
    @keyframes blob-trace-1 {
      0%, 100% { 
        border-radius: 35% 65% 70% 30% / 65% 30% 70% 35%;
      }
      25% { 
        border-radius: 70% 30% 35% 65% / 30% 65% 35% 65%;
      }
      50% { 
        border-radius: 40% 60% 65% 35% / 70% 35% 60% 30%;
      }
      75% { 
        border-radius: 30% 70% 40% 60% / 35% 70% 30% 65%;
      }
    }

    @keyframes blob-trace-2 {
      0%, 100% { 
        border-radius: 65% 35% 30% 70% / 35% 65% 40% 60%;
      }
      33% { 
        border-radius: 35% 65% 65% 35% / 65% 35% 35% 65%;
      }
      66% { 
        border-radius: 70% 30% 40% 60% / 30% 70% 65% 35%;
      }
    }

    @keyframes blob-trace-3 {
      0%, 100% { 
        border-radius: 40% 60% 35% 65% / 70% 30% 65% 35%;
      }
      20% { 
        border-radius: 30% 70% 65% 35% / 40% 60% 30% 70%;
      }
      40% { 
        border-radius: 65% 35% 70% 30% / 35% 65% 40% 60%;
      }
      60% { 
        border-radius: 35% 65% 40% 60% / 65% 35% 70% 30%;
      }
      80% { 
        border-radius: 70% 30% 30% 70% / 30% 70% 35% 65%;
      }
    }

    @keyframes blob-trace-4 {
      0%, 100% { 
        border-radius: 68% 32% 65% 35% / 32% 68% 38% 62%;
      }
      30% { 
        border-radius: 32% 68% 38% 62% / 65% 35% 68% 32%;
      }
      70% { 
        border-radius: 62% 38% 32% 68% / 38% 62% 35% 65%;
      }
    }

    @keyframes blob-trace-5 {
      0%, 100% { 
        border-radius: 38% 62% 68% 32% / 62% 38% 32% 68%;
      }
      25% { 
        border-radius: 65% 35% 32% 68% / 35% 65% 62% 38%;
      }
      50% { 
        border-radius: 32% 68% 62% 38% / 68% 32% 38% 62%;
      }
      75% { 
        border-radius: 68% 32% 38% 62% / 32% 68% 65% 35%;
      }
    }

    @keyframes aura-pulse {
      0%, 100% { opacity: 0.5; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.08); }
    }

    /* MOBILE SMOOTH ANIMATIONS - Replace border-radius with smooth transforms */
    @media (max-width: 768px) and (hover: none) {
      @keyframes blob-trace-1 {
        0%, 100% { 
          transform: scale(1) rotateZ(0deg);
          opacity: 0.6;
        }
        50% { 
          transform: scale(1.08) rotateZ(2deg);
          opacity: 0.75;
        }
      }

      @keyframes blob-trace-2 {
        0%, 100% { 
          transform: scale(1.02) rotateZ(-1deg);
          opacity: 0.55;
        }
        50% { 
          transform: scale(0.98) rotateZ(1deg);
          opacity: 0.7;
        }
      }

      @keyframes blob-trace-3 {
        0%, 100% { 
          transform: scale(1) rotateZ(1deg);
          opacity: 0.5;
        }
        50% { 
          transform: scale(1.06) rotateZ(-2deg);
          opacity: 0.65;
        }
      }

      @keyframes blob-trace-4 {
        0%, 100% { 
          transform: scale(0.99) rotateZ(-1.5deg);
          opacity: 0.45;
        }
        50% { 
          transform: scale(1.04) rotateZ(1.5deg);
          opacity: 0.6;
        }
      }

      @keyframes blob-trace-5 {
        0%, 100% { 
          transform: scale(1.01) rotateZ(0.5deg);
          opacity: 0.4;
        }
        50% { 
          transform: scale(0.97) rotateZ(-0.5deg);
          opacity: 0.55;
        }
      }

      @keyframes blob-trace-6 {
        0%, 100% { 
          transform: scale(0.98) rotateZ(1deg);
          opacity: 0.35;
        }
        50% { 
          transform: scale(1.02) rotateZ(-1deg);
          opacity: 0.5;
        }
      }

      @keyframes blob-trace-7 {
        0%, 100% { 
          transform: scale(1) rotateZ(-0.5deg);
          opacity: 0.3;
        }
        50% { 
          transform: scale(1.03) rotateZ(0.5deg);
          opacity: 0.45;
        }
      }
    }

    .title-with-voice {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    /* TITLE - ANIMATED TEXT CHANGE */
    @keyframes title-glow {
      0%, 100% { 
        text-shadow: 0 0 20px rgba(96, 77, 228, 0.6), 0 0 40px rgba(76, 110, 245, 0.3);
      }
      50% { 
        text-shadow: 0 0 30px rgba(96, 77, 228, 0.9), 0 0 60px rgba(76, 110, 245, 0.5);
      }
    }

    @keyframes title-float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-5px); }
    }

    .title {
      text-align: center;
      margin-bottom: 30px;
      min-height: 120px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .title h1 {
      font-size: clamp(2.5rem, 8vw, 5rem);
      font-weight: 900;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #ffffff 0%, #4c6ef5 50%, #604de4 100%);
      background-clip: text;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      animation: title-glow 4s ease-in-out infinite, title-float 4s ease-in-out infinite;
      line-height: 1.1;
      transition: opacity 0.6s ease-in-out;
      position: relative;
    }

    .title p {
      font-size: 0.85rem;
      color: #9ca3af;
      letter-spacing: 0.1em;
      font-weight: 500;
      text-transform: uppercase;
      margin-top: 15px;
      opacity: 0.8;
      animation: title-float 5s ease-in-out infinite 0.2s;
      transition: opacity 0.3s ease-in-out;
    }

    /* DYNAMIC FLOWING DATA CARDS */
    .data-flow {
      position: fixed;
      inset: 0;
      z-index: 5;
      pointer-events: none;
    }

    .data-card {
      position: absolute;
      background: rgba(15, 17, 23, 0.5);
      border: 1px solid rgba(76, 110, 245, 0.3);
      border-radius: 12px;
      padding: 20px;
      backdrop-filter: blur(15px);
      font-size: 0.85rem;
      pointer-events: auto;
      transition: all 0.3s ease;
      will-change: transform, opacity;
      transform-style: preserve-3d;
    }

    .data-card:hover {
      border-color: rgba(76, 110, 245, 0.6);
      box-shadow: 0 0 30px rgba(76, 110, 245, 0.25);
      transform: translateZ(20px);
    }

    /* MOBILE: Disable 3D card animations */
    @media (max-width: 768px) and (hover: none) {
      .data-card {
        animation: none !important;
        transform: none !important;
        opacity: 0.7 !important;
      }

      .data-card:hover {
        transform: none !important;
      }
    }

    /* CARD ANIMATIONS - 3D SKEWED ENTRANCE/EXIT */
    @keyframes card-enter-left {
      0% {
        opacity: 0;
        transform: perspective(1200px) rotateY(60deg) rotateX(-15deg) translateX(-300px) skewY(-8deg) scale(0.7);
      }
      100% {
        opacity: 1;
        transform: perspective(1200px) rotateY(12deg) rotateX(4deg) translateX(0) skewY(-2deg) scale(1);
      }
    }

    @keyframes card-enter-right {
      0% {
        opacity: 0;
        transform: perspective(1200px) rotateY(-60deg) rotateX(-15deg) translateX(300px) skewY(8deg) scale(0.7);
      }
      100% {
        opacity: 1;
        transform: perspective(1200px) rotateY(-12deg) rotateX(4deg) translateX(0) skewY(2deg) scale(1);
      }
    }

    @keyframes card-exit-left {
      0% {
        opacity: 1;
        transform: perspective(1200px) rotateY(12deg) rotateX(4deg) translateX(0) skewY(-2deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: perspective(1200px) rotateY(-80deg) rotateX(-25deg) translateX(-400px) skewY(-15deg) scale(0.5);
      }
    }

    @keyframes card-exit-right {
      0% {
        opacity: 1;
        transform: perspective(1200px) rotateY(-12deg) rotateX(4deg) translateX(0) skewY(2deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: perspective(1200px) rotateY(80deg) rotateX(-25deg) translateX(400px) skewY(15deg) scale(0.5);
      }
    }

    @keyframes card-idle {
      0%, 100% { 
        transform: perspective(1200px) rotateY(0deg) rotateX(2deg) translateX(0) skewY(0deg) scale(1);
      }
      50% {
        transform: perspective(1200px) rotateY(0deg) rotateX(2deg) translateX(-8px) skewY(0deg) scale(1);
      }
    }

    /* Card state animations */
    .data-card.active {
      animation: card-enter-left 0.9s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    .data-card.idle {
      animation: card-idle 3.5s ease-in-out infinite;
    }

    .data-card.exit {
      animation: card-exit-left 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    .card-label {
      font-weight: 700;
      color: #4c6ef5;
      margin-bottom: 12px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.6px;
    }

    .card-stat {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
      color: #d1d5db;
      font-size: 0.9rem;
    }

    .card-value {
      color: #4c6ef5;
      font-weight: 700;
      font-size: 1.1rem;
    }

    .card-bar {
      width: 100%;
      height: 4px;
      background: rgba(76, 110, 245, 0.1);
      border-radius: 2px;
      margin-top: 8px;
      overflow: hidden;
    }

    .card-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, #4c6ef5 0%, #604de4 100%);
      animation: bar-fill 2.5s ease-in-out infinite;
      border-radius: 2px;
    }

    @keyframes bar-fill {
      0%, 100% { width: 20%; }
      50% { width: 100%; }
    }

    /* BREAKING NEWS BANNER */
    .breaking-news {
      position: fixed;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .breaking-news.active {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }

    .breaking-news-content {
      background: rgba(15, 17, 23, 0.85);
      border: 1px solid rgba(160, 140, 140, 0.2);
      border-radius: 12px;
      padding: 16px 28px;
      display: flex;
      align-items: center;
      gap: 12px;
      backdrop-filter: blur(15px);
      box-shadow: 
        0 0 15px rgba(160, 140, 140, 0.06),
        0 8px 32px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.03);
    }

    .breaking-icon {
      font-size: 1.1rem;
      opacity: 0.7;
    }

    .breaking-label {
      font-size: 0.65rem;
      font-weight: 700;
      color: rgba(180, 160, 160, 0.6);
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 4px 8px;
      background: rgba(160, 140, 140, 0.08);
      border-radius: 4px;
      border: 1px solid rgba(160, 140, 140, 0.15);
    }

    #breaking-news-text {
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7eb;
      letter-spacing: 0.02em;
    }

    /* FALL OFF ANIMATION */
    @keyframes fall-off {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(150vh) rotate(45deg);
        opacity: 0;
      }
    }

    .data-card.falling {
      animation: fall-off 1.5s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards !important;
    }

    .floating-doc.falling {
      animation: fall-off 1.2s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards !important;
    }

    /* MOBILE: Disable floating document animations */
    @media (max-width: 768px) and (hover: none) {
      .floating-doc {
        animation: none !important;
        opacity: 0 !important;
        pointer-events: none !important;
      }

      .floating-doc.active,
      .floating-doc.active-alt {
        animation: none !important;
        opacity: 0 !important;
      }
    }

    /* FLOATING DOCUMENTS */
    @keyframes doc-zoom-up {
      0% {
        opacity: 0;
        transform: translateY(100px) scale(0.6) rotate(-2deg);
      }
      15% {
        opacity: 1;
        transform: translateY(20px) scale(1) rotate(0deg);
      }
      70% {
        opacity: 1;
        transform: translateY(-80px) scale(1.02) rotate(1deg);
      }
      100% {
        opacity: 0;
        transform: translateY(-200px) scale(0.9) rotate(2deg);
      }
    }

    @keyframes doc-zoom-up-alt {
      0% {
        opacity: 0;
        transform: translateY(120px) scale(0.5) rotate(3deg);
      }
      20% {
        opacity: 1;
        transform: translateY(0px) scale(1) rotate(0deg);
      }
      65% {
        opacity: 1;
        transform: translateY(-100px) scale(1.03) rotate(-1deg);
      }
      100% {
        opacity: 0;
        transform: translateY(-250px) scale(0.85) rotate(-3deg);
      }
    }

    .floating-documents {
      position: fixed;
      inset: 0;
      z-index: 8;
      pointer-events: none;
      overflow: hidden;
    }

    .floating-doc {
      position: absolute;
      background: linear-gradient(145deg, rgba(20, 22, 30, 0.95) 0%, rgba(15, 17, 23, 0.98) 100%);
      border: 1px solid rgba(76, 110, 245, 0.2);
      border-radius: 8px;
      padding: 16px 20px;
      min-width: 200px;
      max-width: 280px;
      box-shadow: 
        0 10px 40px rgba(0, 0, 0, 0.4),
        0 0 20px rgba(76, 110, 245, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      opacity: 0;
      pointer-events: none;
    }

    .floating-doc.active {
      animation: doc-zoom-up 4s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    .floating-doc.active-alt {
      animation: doc-zoom-up-alt 4.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    }

    .doc-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(76, 110, 245, 0.15);
    }

    .doc-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, rgba(76, 110, 245, 0.2) 0%, rgba(96, 77, 228, 0.2) 100%);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .doc-type {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      color: #4c6ef5;
      font-weight: 600;
    }

    .doc-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: #e5e7eb;
      margin-bottom: 8px;
    }

    .doc-details {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .doc-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.8rem;
    }

    .doc-label {
      color: #6b7280;
    }

    .doc-value {
      color: #9ca3af;
      font-weight: 500;
    }

    .doc-value.amount {
      color: #4c6ef5;
      font-weight: 700;
    }

    .doc-value.positive {
      color: #10b981;
    }

    .doc-value.negative {
      color: #ef4444;
    }

    .doc-stamp {
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px dashed rgba(76, 110, 245, 0.2);
      font-size: 0.65rem;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-align: center;
    }

    /* RESPONSIVE */
    @media (max-width: 1024px) {
      .data-card {
        padding: 16px;
        font-size: 0.8rem;
      }
      
      .floating-doc {
        min-width: 160px;
        max-width: 220px;
        padding: 12px 16px;
      }
      
      .title h1 {
        font-size: clamp(2rem, 6vw, 4rem);
      }
    }

    @media (max-width: 768px) {
      /* TABLET: Reduced elements */
      .data-card {
        padding: 10px;
        font-size: 0.7rem;
        border-radius: 8px;
        max-width: 200px;
      }
      
      .card-label {
        font-size: 0.6rem;
        margin-bottom: 6px;
      }
      
      .card-value {
        font-size: 0.85rem;
      }
      
      .title h1 {
        font-size: clamp(1.8rem, 6vw, 3rem);
      }
      
      .title p {
        font-size: 0.6rem;
        letter-spacing: 0.03em;
      }
      
      /* Smaller floating docs */
      .floating-doc {
        min-width: 140px;
        max-width: 180px;
        padding: 10px 12px;
      }
      
      .doc-title {
        font-size: 0.8rem;
      }
      
      .doc-row {
        font-size: 0.7rem;
      }
      
      /* Smaller AI ring */
      .ai-ring-container {
        width: 550px;
        height: 550px;
      }
      
      .ai-ring-trace {
        width: 450px;
        height: 450px;
      }
      
      .ai-ring-aura {
        width: 500px;
        height: 500px;
      }
      
      /* Breaking news slightly smaller */
      .breaking-news-content {
        padding: 12px 20px;
      }
      
      #breaking-news-text {
        font-size: 0.8rem;
      }
    }
    
    @media (max-width: 480px) {
      /* MOBILE: Clean, focused experience */
      
      /* Title - ensure single line */
      .title h1 {
        font-size: 1.75rem;
        white-space: nowrap;
        letter-spacing: -0.03em;
      }
      
      .title p {
        font-size: 0.5rem;
        letter-spacing: 0.02em;
        max-width: 300px;
      }
      
      /* AI Ring - smaller for mobile */
      .ai-ring-container {
        width: 400px;
        height: 400px;
      }
      
      .ai-ring-trace {
        width: 320px;
        height: 320px;
      }
      
      .ai-ring-trace-2 { width: 340px; height: 310px; }
      .ai-ring-trace-3 { width: 300px; height: 350px; }
      .ai-ring-trace-4 { width: 355px; height: 315px; }
      .ai-ring-trace-5 { width: 310px; height: 355px; }
      
      .ai-ring-aura {
        width: 360px;
        height: 360px;
        border-width: 40px;
      }
      
      /* Show fewer, smaller cards on mobile */
      .data-card {
        padding: 8px 10px !important;
        font-size: 0.55rem !important;
        max-width: 160px !important;
        border-radius: 6px !important;
      }
      
      .data-card:nth-child(n+3) {
        display: none !important; /* Only show first 2 cards */
      }
      
      .card-label {
        font-size: 0.5rem !important;
        margin-bottom: 4px !important;
        letter-spacing: 0.03em !important;
      }
      
      .card-stat {
        margin-bottom: 4px !important;
        font-size: 0.5rem !important;
      }
      
      .card-value {
        font-size: 0.6rem !important;
      }
      
      .card-bar {
        height: 2px !important;
        margin-top: 4px !important;
      }
      
      /* Show smaller floating documents */
      .floating-doc {
        min-width: 120px;
        max-width: 150px;
        padding: 8px 10px;
      }
      
      .doc-header {
        margin-bottom: 6px;
        padding-bottom: 6px;
      }
      
      .doc-icon {
        width: 20px;
        height: 20px;
        font-size: 10px;
      }
      
      .doc-type {
        font-size: 0.5rem;
      }
      
      .doc-title {
        font-size: 0.65rem;
        margin-bottom: 4px;
      }
      
      .doc-row {
        font-size: 0.55rem;
      }
      
      .doc-stamp {
        margin-top: 6px;
        padding-top: 6px;
        font-size: 0.45rem;
      }
      
      /* Breaking news - compact single line */
      .breaking-news {
        top: 15px;
        width: 95%;
        max-width: 360px;
      }
      
      .breaking-news-content {
        padding: 10px 14px;
        gap: 8px;
      }
      
      .breaking-icon {
        font-size: 0.9rem;
      }
      
      .breaking-label {
        font-size: 0.5rem;
        padding: 3px 6px;
      }
      
      #breaking-news-text {
        font-size: 0.65rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 180px;
      }
      
      /* Background orbs - smaller */
      .orb-1 {
        width: 300px;
        height: 300px;
        top: -100px;
        right: -100px;
      }
      
      .orb-2 {
        width: 250px;
        height: 250px;
        bottom: -80px;
        left: -80px;
      }
    }
    
    /* Extra small phones */
    @media (max-width: 380px) {
      .title h1 {
        font-size: 1.4rem;
      }
      
      .title p {
        font-size: 0.45rem;
      }
      
      #breaking-news-text {
        max-width: 140px;
      }
    }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="background-grid"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>

  <!-- Floating Documents -->
  <div class="floating-documents">
    <div class="floating-doc" id="doc-1"></div>
    <div class="floating-doc" id="doc-2"></div>
    <div class="floating-doc" id="doc-3"></div>
  </div>

  <!-- Center Stage -->
  <div class="center-stage">
    <!-- Ethereal AI Ring - positioned above title -->
    <div class="ai-ring-container idle" id="ai-ring">
      <div class="ai-ring-aura"></div>
      <div class="ai-ring-trace ai-ring-trace-1"></div>
      <div class="ai-ring-trace ai-ring-trace-2"></div>
      <div class="ai-ring-trace ai-ring-trace-3"></div>
      <div class="ai-ring-trace ai-ring-trace-4"></div>
      <div class="ai-ring-trace ai-ring-trace-5"></div>
      <div class="ai-ring-trace ai-ring-trace-6"></div>
      <div class="ai-ring-trace ai-ring-trace-7"></div>
      <div class="ai-ring-trace ai-ring-trace-8"></div>
      <div class="ai-ring-trace ai-ring-trace-9"></div>
      <div class="ai-ring-trace ai-ring-trace-10"></div>
      <div class="ai-ring-trace ai-ring-trace-11"></div>
      <div class="ai-ring-trace ai-ring-trace-12"></div>
      <div class="ai-ring-trace ai-ring-trace-13"></div>
      <div class="ai-ring-trace ai-ring-trace-14"></div>
      <div class="ai-ring-trace ai-ring-trace-15"></div>
    </div>
    <!-- Dynamic Title - stays vertically centered -->
    <div class="title-with-voice">
      <div class="title">
        <h1 id="dynamic-title">ERP FOR WEALTH</h1>
        <p id="dynamic-tagline">MULTI-ENTITY â€¢ MULTI-CURRENCY â€¢ EVERY ASSET CLASS â€¢ NATIVE AI</p>
      </div>
    </div>
  </div>

  <!-- Stealth Status -->
  <div id="stealth-status" style="position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%); z-index: 100; display: flex; align-items: center; gap: 8px; color: #9ca3af; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.08em; font-weight: 600; font-family: Inter, sans-serif; white-space: nowrap;">
    <div style="width: 8px; height: 8px; background: #604de4; border-radius: 50%; animation: pulse 2s infinite;"></div>
    <span>Building in stealth. Beta in Summer 2026.</span>
  </div>

  <!-- Email Signup Form - Inline -->
  <form action="https://formspree.io/f/xkgdvqev" method="POST" style="position: fixed; bottom: 120px; left: 50%; transform: translateX(-50%); z-index: 100; display: flex; gap: 8px; align-items: center;">
    <input 
      type="email" 
      name="email" 
      placeholder="your@email.com" 
      required
      style="background: rgba(76, 110, 245, 0.15); border: 1px solid rgba(76, 110, 245, 0.3); border-radius: 6px; padding: 10px 14px; color: #ffffff; font-family: Inter, sans-serif; font-size: 0.8rem; min-width: 160px; transition: all 0.3s ease;"
    />
    <button 
      type="submit"
      style="background: linear-gradient(135deg, #604de4 0%, #4c6ef5 100%); border: none; border-radius: 6px; padding: 10px 20px; color: #ffffff; font-weight: 600; font-size: 0.8rem; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em; white-space: nowrap; transition: all 0.3s ease;"
    >
      Update Me
    </button>
  </form>
  <style>
    @keyframes pulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 8px #604de4; }
      50% { opacity: 0.5; box-shadow: 0 0 16px #4c6ef5; }
    }
    
    input[type="email"]:focus {
      outline: none;
      border-color: rgba(76, 110, 245, 0.6) !important;
      background: rgba(76, 110, 245, 0.25) !important;
    }
    
    button[type="submit"]:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(96, 77, 228, 0.3);
    }
    
    @media (max-width: 480px) {
      #stealth-status {
        font-size: 0.65rem !important;
        bottom: 100px !important;
      }
      
      form {
        bottom: 150px !important;
        left: 50% !important;
        width: 90% !important;
        max-width: 320px !important;
      }
      
      input[type="email"] {
        min-width: 120px !important;
        font-size: 0.75rem !important;
        padding: 8px 10px !important;
      }
      
      button[type="submit"] {
        font-size: 0.75rem !important;
        padding: 8px 14px !important;
      }
    }
  </style>

  <!-- Dynamic Flowing Data Cards (6 cards max) -->
  <div class="data-flow">
    <div class="data-card" id="card-1">
      <div class="card-label">Portfolios</div>
      <div class="card-stat">
        <span>Active</span>
        <span class="card-value">12</span>
      </div>
      <div class="card-bar">
        <div class="card-bar-fill"></div>
      </div>
    </div>

    <div class="data-card" id="card-2">
      <div class="card-label">Assets</div>
      <div class="card-stat">
        <span>Total</span>
        <span class="card-value">$2.4M</span>
      </div>
      <div class="card-bar">
        <div class="card-bar-fill"></div>
      </div>
    </div>

    <div class="data-card" id="card-3">
      <div class="card-label">Growth</div>
      <div class="card-stat">
        <span>YTD</span>
        <span class="card-value">+8.2%</span>
      </div>
      <div class="card-bar">
        <div class="card-bar-fill"></div>
      </div>
    </div>

    <div class="data-card" id="card-4">
      <div class="card-label">Allocation</div>
      <div class="card-stat">
        <span>Stocks</span>
        <span class="card-value">45%</span>
      </div>
      <div class="card-bar">
        <div class="card-bar-fill"></div>
      </div>
    </div>

    <div class="data-card" id="card-5">
      <div class="card-label">Family Stages</div>
      <div class="card-stat">
        <span>Accumulation</span>
        <span class="card-value">45%</span>
      </div>
      <div class="card-bar">
        <div class="card-bar-fill"></div>
      </div>
    </div>
  </div>

  <!-- Breaking News Overlay -->
  <div id="breaking-news" class="breaking-news">
    <div class="breaking-news-content">
      <span class="breaking-icon">ðŸ“Š</span>
      <span class="breaking-label">Alert</span>
      <span id="breaking-news-text">BREAKING NEWS</span>
    </div>
  </div>

  <script>
    // Expanded pool of 100+ unique data cards with mixed currencies
    const cardDatasets = [
      // Portfolios & Assets
      { label: 'Portfolios', stat: 'Active', value: '12' },
      { label: 'Assets Under Management', stat: 'Total', value: 'Â£8.4M' },
      { label: 'Asset Classes', stat: 'Tracked', value: '8' },
      { label: 'Portfolio Rebalance', stat: 'Frequency', value: 'Quarterly' },
      { label: 'Watchlist', stat: 'Securities', value: '47' },
      // Performance Metrics
      { label: 'Growth', stat: 'YTD', value: '+8.2%' },
      { label: 'Monthly Returns', stat: 'Average', value: '+2.1%' },
      { label: 'Best Performer', stat: 'Gain', value: '+24.5%' },
      { label: 'Worst Performer', stat: 'Loss', value: '-8.3%' },
      { label: 'Volatility Index', stat: 'Score', value: '18.4' },
      { label: 'Sharpe Ratio', stat: 'Risk-Adjusted', value: '1.92' },
      { label: 'Win Rate', stat: 'Positive Months', value: '78%' },
      // Allocation
      { label: 'Stock Allocation', stat: 'Equities', value: '45%' },
      { label: 'Bond Allocation', stat: 'Fixed Income', value: '28%' },
      { label: 'Cash Position', stat: 'Liquidity', value: '12%' },
      { label: 'Alternative Investments', stat: 'Hedge', value: '15%' },
      { label: 'Real Assets', stat: 'Commodities', value: '8%' },
      { label: 'Geographic Split', stat: 'US Exposure', value: '62%' },
      { label: 'International', stat: 'Diversification', value: '35%' },
      { label: 'Emerging Markets', stat: 'Growth', value: '3%' },
      // Family & Life Stage
      { label: 'Family Stages', stat: 'Accumulation', value: '45%' },
      { label: 'Household Members', stat: 'Dependents', value: '2' },
      { label: 'Education Planning', stat: '529 Funded', value: 'â‚¬845K' },
      { label: 'College Timeline', stat: 'Years', value: '8' },
      { label: 'Legacy Planning', stat: 'Trusts', value: '3' },
      { label: 'Beneficiary Updates', stat: 'Last Review', value: '6mo' },
      // Market & Economics
      { label: 'Inflation Rate', stat: 'Current', value: '3.2%' },
      { label: 'GDP Growth', stat: 'Projected', value: '2.8%' },
      { label: 'Unemployment', stat: 'Rate', value: '3.9%' },
      { label: 'Fed Rate', stat: 'Current', value: '5.25-5.50%' },
      { label: 'Market Cap', stat: 'Global', value: 'CHF 118.2T' },
      { label: 'Sector Leadership', stat: 'Top Performer', value: 'Tech' },
      { label: 'Yield Curve', stat: 'Status', value: 'Inverted' },
      { label: 'PE Ratio', stat: 'S&P 500', value: '21.4x' },
      // Tax Optimization
      { label: 'Tax Optimization', stat: 'Annual Savings', value: 'Â£285K' },
      { label: 'Tax Loss Harvesting', stat: 'Captured', value: 'â‚¬325K' },
      { label: 'Tax Bracket', stat: 'Current', value: '45%' },
      { label: 'State Tax', stat: 'Liability', value: 'Â£125K' },
      { label: 'Estimated Taxes', stat: 'Q4 Due', value: 'Â¥28.5M' },
      { label: 'Dividend Tax', stat: 'Qualified', value: '20%' },
      { label: 'Capital Gains', stat: 'Short Term', value: 'Â£185K' },
      { label: 'Tax-Deferred Growth', stat: 'Pension Accounts', value: 'â‚¬2.8M' },
      // Risk & Profile
      { label: 'Risk Profile', stat: 'Rating', value: 'Moderate' },
      { label: 'Risk Tolerance', stat: 'Volatility', value: 'Medium' },
      { label: 'Maximum Drawdown', stat: 'Worst Case', value: '-18.5%' },
      { label: 'Value at Risk', stat: '95% Confidence', value: 'Â£985K' },
      { label: 'Beta', stat: 'Market Correlation', value: '0.85' },
      { label: 'Alpha Generation', stat: 'Outperformance', value: '+1.8%' },
      { label: 'Standard Deviation', stat: 'Volatility', value: '12.3%' },
      // Diversification
      { label: 'Diversification Score', stat: 'Concentration Risk', value: '8.7/10' },
      { label: 'Correlation Matrix', stat: 'Diversified', value: '0.42' },
      { label: 'Number of Holdings', stat: 'Total Securities', value: '156' },
      { label: 'Largest Position', stat: 'Weight', value: '8.2%' },
      { label: 'Top 10 Holdings', stat: 'Concentration', value: '42%' },
      { label: 'Sector Diversification', stat: 'Equal Weighted', value: 'Yes' },
      { label: 'Currency Exposure', stat: 'USD Percentage', value: '88%' },
      // Liquidity
      { label: 'Liquidity Ratio', stat: 'Emergency Fund', value: '38%' },
      { label: 'Cash Reserves', stat: 'Months Covered', value: '9.2' },
      { label: 'Quick Ratio', stat: 'Liquid Assets', value: '2.1x' },
      { label: 'Access to Credit', stat: 'Available', value: 'CHF 2.85M' },
      { label: 'Line of Credit', stat: 'Drawn', value: '22%' },
      // Real Estate
      { label: 'Real Estate Portfolio', stat: 'Total Value', value: 'â‚¬8.5M' },
      { label: 'Primary Residence', stat: 'Mortgage', value: 'Â£1.85M' },
      { label: 'Investment Properties', stat: 'Count', value: '5' },
      { label: 'Rental Income', stat: 'Monthly Gross', value: 'Â£125K' },
      { label: 'Property Appreciation', stat: 'YTD Gain', value: '+6.2%' },
      { label: 'Occupancy Rate', stat: 'Rentals', value: '96%' },
      { label: 'Cap Rate', stat: 'Rental Yield', value: '4.8%' },
      // Digital Assets
      { label: 'Crypto Holdings', stat: 'Digital Assets', value: '$2.8M' },
      { label: 'Bitcoin Position', stat: 'Allocation', value: '65%' },
      { label: 'Ethereum Position', stat: 'Allocation', value: '25%' },
      { label: 'Alt Coins', stat: 'Portfolio', value: '10%' },
      { label: 'Staking Rewards', stat: 'Annual Yield', value: 'â‚¬185K' },
      { label: 'Crypto Volatility', stat: 'Daily Change', value: 'Â±4.2%' },
      // Retirement
      { label: 'Retirement Account Balance', stat: 'Pension Total', value: 'Â£4.2M' },
      { label: 'Workplace Pension', stat: 'Current', value: 'Â£2.8M' },
      { label: 'Personal Pension', stat: 'Tax-Free Growth', value: 'CHF 1.45M' },
      { label: 'Employer Match', stat: 'Annual Contribution', value: 'Â¥18.5M' },
      { label: 'Retirement Age', stat: 'Target', value: '62' },
      { label: 'Years to Retirement', stat: 'Timeline', value: '18' },
      { label: 'Retirement Readiness', stat: 'Progress', value: '92%' },
      // Insurance & Protection
      { label: 'Insurance Coverage', stat: 'Life Policy', value: 'â‚¬12.5M' },
      { label: 'Disability Insurance', stat: 'Monthly Benefit', value: 'Â£45K' },
      { label: 'Umbrella Policy', stat: 'Coverage', value: 'CHF 8.5M' },
      { label: 'Homeowners Insurance', stat: 'Annual Premium', value: 'Â¥2.85M' },
      { label: 'Car Insurance', stat: 'Annual Premium', value: 'Â£850' },
      { label: 'Professional Indemnity', stat: 'Coverage', value: 'Â£5M' },
      // Debt Management
      { label: 'Debt-to-Income Ratio', stat: 'Leverage', value: '18%' },
      { label: 'Credit Rating', stat: 'Current', value: '850+' },
      { label: 'Total Debt Outstanding', stat: 'Balance', value: 'Â£1.85M' },
      { label: 'Mortgage Rate', stat: 'Current', value: '3.8%' },
      { label: 'Credit Card Debt', stat: 'Paid In Full', value: 'Monthly' },
      { label: 'Business Loans', stat: 'Outstanding', value: 'Nil' },
      // Cash Flow
      { label: 'Active Income Streams', stat: 'Sources', value: '6' },
      { label: 'Primary Income', stat: 'Salary', value: 'Â£485K' },
      { label: 'Passive Income', stat: 'Monthly', value: 'Â£95K' },
      { label: 'Investment Income', stat: 'Dividends', value: 'Â£255K' },
      { label: 'Business Income', stat: 'Annual Profit', value: 'Â£625K' },
      { label: 'Total Income', stat: 'Annual', value: 'Â£2.15M' },
      // Additional Global Metrics
      { label: 'International Holdings', stat: 'Europe Exposure', value: 'â‚¬3.2M' },
      { label: 'UK Investments', stat: 'Portfolio %', value: '38%' },
      { label: 'Swiss Assets', stat: 'CHF Value', value: 'CHF 1.85M' },
      { label: 'Japan Exposure', stat: 'Nikkei Index', value: 'Â¥2.2B' },
      { label: 'FOREX Gains', stat: 'YTD', value: '+3.4%' },
      { label: 'Multi-Currency', stat: 'Holdings', value: '7' },
      { label: 'Hedging Strategy', stat: 'Active', value: 'Yes' },
      // UK-Focused Assets & Tax Structures
      { label: 'ISA Allowance', stat: 'Annual Limit', value: 'Â£20,000' },
      { label: 'Cash ISA Balance', stat: 'Current', value: 'Â£285K' },
      { label: 'Stocks & Shares ISA', stat: 'Holdings', value: 'Â£1.25M' },
      { label: 'SIPP Balance', stat: 'Self-Invested Pension', value: 'Â£2.85M' },
      { label: 'SIPP Contributions YTD', stat: 'Flexibility Allowed', value: 'Â£85K' },
      { label: 'Lifetime ISA Growth', stat: 'Tax-Free', value: 'Â£125K' },
      { label: 'CGT Allowance Used', stat: 'Annual Exemption', value: 'Â£3,000' },
      { label: 'CGT (Section 104)', stat: 'Holdings Basis', value: 'Â£425K' },
      { label: 'PAYE Tax Paid', stat: 'YTD', value: 'Â£185K' },
      { label: 'Self Assessment Tax', stat: 'Outstanding', value: 'Â£95K' },
      { label: 'Personal Savings Allowance', stat: 'Remaining', value: 'Â£0' },
      { label: 'Dividend Allowance Used', stat: 'Annual', value: 'Â£500' },
      { label: 'Rental Portfolio', stat: 'Properties Owned', value: '5' },
      { label: 'Rental Income', stat: 'Monthly Gross', value: 'Â£125K' },
      { label: 'Rental Expenses', stat: 'Monthly Deductible', value: 'Â£28.5K' },
      { label: 'BTL Mortgage Balance', stat: 'Outstanding', value: 'Â£2.1M' },
      { label: 'Rental Yield', stat: 'Portfolio Average', value: '5.2%' },
      { label: 'Artwork Collection', stat: 'Insured Value', value: 'Â£2.25M' },
      { label: 'Artwork Valuation', stat: 'Last Appraisal', value: 'Dec 2024' },
      { label: 'Art Market Performance', stat: 'YTD Appreciation', value: '+8.1%' },
      { label: 'Trading Business', stat: 'Annual Turnover', value: 'Â£3.85M' },
      { label: 'Business Profit', stat: 'Year-to-Date', value: 'Â£625K' },
      { label: 'Business Overheads', stat: 'Monthly', value: 'Â£125K' },
      { label: 'Corporation Tax Provision', stat: 'Estimated', value: 'Â£125K' },
      { label: 'Directors Salary', stat: 'Annual', value: 'Â£250K' },
      { label: 'Company Dividend', stat: 'Last Distribution', value: 'Â£285K' },
      { label: 'Strategic Asset Allocation', stat: 'SAA Target', value: '60/40' },
      { label: 'Deviation from SAA', stat: 'Current Variance', value: '+3.2%' },
      { label: 'Rebalancing Needed', stat: 'Actions Required', value: '2' },
      { label: 'Tactical Positioning', stat: 'Overweight Cash', value: '5.1%' },
      // Banking & Brokerage Accounts
      { label: 'UBS Account', stat: 'Account Balance', value: 'Â£3.25M' },
      { label: 'Interactive Brokers', stat: 'Portfolio Value', value: '$4.85M' },
      { label: 'IG Account', stat: 'Trading Balance', value: 'â‚¬2.15M' },
      { label: 'Lloyds Bank', stat: 'Accounts', value: '3' },
      // Professional & Legal
      { label: 'Board Positions', stat: 'Active Roles', value: '4' },
      { label: 'Accountant Sync', stat: 'Last Updated', value: 'Dec 2024' },
      { label: 'Will Review', stat: 'Last Review', value: '18 months' },
      // Private Equity
      { label: 'PE Commitments', stat: 'Total Committed', value: '$8.5M' },
      { label: 'PE Unfunded', stat: 'Remaining', value: '$3.2M' },
      { label: 'PE Fund I', stat: 'Vintage 2019', value: '1.8x MOIC' },
      { label: 'PE Fund II', stat: 'Vintage 2021', value: '1.4x MOIC' },
      { label: 'PE Fund III', stat: 'Vintage 2023', value: '1.1x MOIC' },
      { label: 'PE Distributions', stat: 'YTD', value: 'Â£425K' },
      { label: 'PE IRR', stat: 'Net Blended', value: '+18.4%' },
      { label: 'Capital Calls', stat: 'Pending', value: '2' },
      { label: 'Capital Calls', stat: 'This Quarter', value: '$180K' },
      { label: 'Capital Call Due', stat: 'Next Payment', value: '15 Jan 2025' },
      { label: 'Co-Invest Deals', stat: 'Active', value: '3' },
      { label: 'VC Allocation', stat: 'Early Stage', value: '$1.2M' },
      { label: 'Secondaries', stat: 'Portfolio', value: '$850K' },
      // Structured Notes
      { label: 'Structured Notes', stat: 'Total Holdings', value: 'Â£2.8M' },
      { label: 'Autocallable Note', stat: 'FTSE Linked', value: 'Â£500K' },
      { label: 'Autocallable Note', stat: 'S&P Linked', value: '$750K' },
      { label: 'Barrier Note', stat: 'Euro Stoxx', value: 'â‚¬400K' },
      { label: 'CLN Position', stat: 'Credit Linked', value: 'Â£350K' },
      { label: 'Note Maturity', stat: 'Next Redemption', value: 'Mar 2025' },
      { label: 'Note Coupon', stat: 'Last Payment', value: '8.5%' },
      { label: 'Barrier Level', stat: 'Current Buffer', value: '32%' },
      { label: 'Structured Yield', stat: 'Portfolio Avg', value: '7.2%' }
    ];

    let currentIndex = 0;
    let usedIndices = new Set();
    const cards = [];
    const displayedCards = new Map(); // Track card dimensions for collision detection
    
    // AI Ring activity tracking
    const aiRing = document.getElementById('ai-ring');
    let activityLevel = 0; // 0-100 activity score
    let lastActivityTime = Date.now();
    
    // Activity states: quiet (0-15), idle (16-40), active (41-70), peak (71-100)
    function updateSpectrumActivity(boost = 0) {
      // Add activity boost
      activityLevel = Math.min(100, activityLevel + boost);
      
      // Determine state based on activity level
      let state = 'quiet';
      if (activityLevel > 70) state = 'peak';
      else if (activityLevel > 40) state = 'active';
      else if (activityLevel > 15) state = 'idle';
      
      // Update AI ring class
      aiRing.className = 'ai-ring-container ' + state;
    }
    
    // Decay activity over time - creates random quiet periods
    setInterval(() => {
      const timeSinceActivity = Date.now() - lastActivityTime;
      
      // Much faster decay to stay quiet most of the time
      let decayRate = 5;
      if (activityLevel > 50) decayRate = 3;
      if (activityLevel < 10) decayRate = 8; // Very fast decay when nearly quiet
      
      // Rare, subtle background activity (only 3% chance, very small boost)
      if (Math.random() < 0.03 && activityLevel < 10) {
        activityLevel = Math.min(12, activityLevel + Math.random() * 8);
      }
      
      activityLevel = Math.max(0, activityLevel - decayRate);
      updateSpectrumActivity();
    }, 150); // Faster interval for quicker decay
    
    // Get 5 card elements
    for (let i = 1; i <= 5; i++) {
      const card = document.getElementById(`card-${i}`);
      if (card) {
        cards.push(card);
      }
    }
    
    // Variable number of active cards (2-5)
    let activeCardCount = 3; // Start with 3 cards

    const titleEl = document.getElementById('dynamic-title');

    // Generate random size - responsive to viewport
    function getRandomSize() {
      const vw = window.innerWidth;
      
      // Mobile: compact but readable cards
      if (vw <= 480) {
        const sizes = [
          { width: 130, height: 70 },
          { width: 145, height: 78 },
          { width: 160, height: 85 }
        ];
        return sizes[Math.floor(Math.random() * sizes.length)];
      }
      
      // Tablet: medium cards
      if (vw <= 768) {
        const sizes = [
          { width: 180, height: 95 },
          { width: 200, height: 105 },
          { width: 220, height: 115 }
        ];
        return sizes[Math.floor(Math.random() * sizes.length)];
      }
      
      // Desktop: full size
      const sizes = [
        { width: 280, height: 140 },
        { width: 300, height: 150 },
        { width: 320, height: 160 },
        { width: 340, height: 170 },
        { width: 360, height: 180 }
      ];
      return sizes[Math.floor(Math.random() * sizes.length)];
    }

    // Collision detection - avoid cards and center branding
    function checkCollision(left, top, width, height, existingCards) {
      const padding = 20;
      const rect1 = {
        left: left - padding,
        right: left + width + padding,
        top: top - padding,
        bottom: top + height + padding
      };

      // Check collision with other cards
      for (const [cardElement, cardData] of existingCards) {
        const rect2 = {
          left: cardData.left,
          right: cardData.left + cardData.width,
          top: cardData.top,
          bottom: cardData.top + cardData.height
        };

        if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
          return true; // Collision detected with another card
        }
      }

      // Check collision with center branding area (KYW / KNOW YOUR WORTH)
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const centerX = vw / 2;
      const centerY = vh / 2;
      const brandZoneRadius = 280; // Radius around center to protect

      // Calculate distance from card center to brand center
      const cardCenterX = left + width / 2;
      const cardCenterY = top + height / 2;
      const distanceFromCenter = Math.sqrt(
        Math.pow(cardCenterX - centerX, 2) + Math.pow(cardCenterY - centerY, 2)
      );

      if (distanceFromCenter < brandZoneRadius) {
        return true; // Collision with brand zone
      }

      return false;
    }

    // Generate random position with no overlap
    function getRandomPosition(width, height, existingCards) {
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      let position;
      let attempts = 0;
      const maxAttempts = 50;

      do {
        const left = Math.random() * (vw - width - 40) + 20;
        const minTop = vh * 0.15;
        const maxTop = vh * 0.85 - height;
        const top = Math.random() * (maxTop - minTop) + minTop;
        position = { left, top };
        attempts++;
      } while (checkCollision(position.left, position.top, width, height, existingCards) && attempts < maxAttempts);

      return position;
    }

    // Pick a random unused card from the pool
    function getRandomCard() {
      let index;
      do {
        index = Math.floor(Math.random() * cardDatasets.length);
      } while (usedIndices.has(index) && usedIndices.size < cardDatasets.length);
      
      usedIndices.add(index);
      if (usedIndices.size > cardDatasets.length * 0.7) {
        usedIndices.clear(); // Reset pool when 70% used
      }
      
      return cardDatasets[index];
    }

    function updateCard(card, data, size) {
      card.classList.add('exit');
      
      setTimeout(() => {
        card.querySelector('.card-label').textContent = data.label;
        card.querySelector('.card-stat span:first-child').textContent = data.stat;
        card.querySelector('.card-value').textContent = data.value;
        
        // Apply size
        card.style.width = size.width + 'px';
        
        // Get random position with collision detection
        const pos = getRandomPosition(size.width, size.height, displayedCards);
        let { left, top } = pos;
        
        // Adjust position if it overlaps with brand name area (center)
        const vh = window.innerHeight;
        const vw = window.innerWidth;
        const centerY = vh / 2;
        // Larger brand zone to protect the title
        const brandZoneTop = centerY - 120;
        const brandZoneBottom = centerY + 120;
        const cardBottom = top + size.height;
        const cardTop = top;
        
        // If card overlaps with brand zone, push it away
        if (cardTop < brandZoneBottom && cardBottom > brandZoneTop) {
          // Card is in the brand zone - decide to push up or down
          const distanceToTop = cardTop - brandZoneTop;
          const distanceToBottom = brandZoneBottom - cardBottom;
          
          if (distanceToTop < distanceToBottom) {
            // Closer to top - push up
            top = brandZoneTop - size.height - 30;
          } else {
            // Closer to bottom - push down
            top = brandZoneBottom + 30;
          }
          
          // Ensure we stay in viewport
          if (top < 0) top = brandZoneBottom + 30;
          if (top + size.height > vh) top = brandZoneTop - size.height - 30;
        }
        
        card.style.left = left + 'px';
        card.style.top = top + 'px';
        
        // Store card position for collision detection
        displayedCards.set(card, {
          left: left,
          top: top,
          width: size.width,
          height: size.height
        });
        
        card.classList.remove('exit', 'idle');
        card.classList.add('active');
        
        setTimeout(() => {
          card.classList.remove('active');
          card.classList.add('idle');
        }, 900);
      }, 450);
    }

    function updateTitle() {
      const shouldShowFull = currentIndex % 2 === 0;
      const newTitle = shouldShowFull ? 'KNOW YOUR WORTH' : 'ERP FOR WEALTH';
      const newTagline = shouldShowFull 
        ? 'MULTI-ENTITY â€¢ MULTI-CURRENCY â€¢ EVERY ASSET CLASS â€¢ NATIVE AI' 
        : 'FAMILY OFFICE FUNCTIONALITY â€¢ PRICED FOR RETAIL INVESTORS';
      
      const taglineEl = document.getElementById('dynamic-tagline');
      
      if (titleEl.textContent !== newTitle) {
        titleEl.style.opacity = '0.5';
        if (taglineEl) taglineEl.style.opacity = '0.5';
        
        setTimeout(() => {
          titleEl.textContent = newTitle;
          // Make "KNOW YOUR WORTH" bigger on mobile, "ERP FOR WEALTH" smaller
          const isMobile = window.innerWidth <= 480;
          if (shouldShowFull) {
            titleEl.style.fontSize = isMobile ? '2rem' : '';
          } else {
            titleEl.style.fontSize = 'clamp(1.8rem, 5vw, 3.5rem)';
          }
          titleEl.style.opacity = '1';
          if (taglineEl) {
            taglineEl.textContent = newTagline;
            taglineEl.style.opacity = '1';
          }
        }, 300);
      }
    }

    function cycleCards() {
      // Boost AI ring activity - cards cycling
      lastActivityTime = Date.now();
      updateSpectrumActivity(25 + Math.random() * 20); // 25-45 boost (moderate)
      
      // Randomly vary the number of visible cards (2-5)
      activeCardCount = 2 + Math.floor(Math.random() * 4); // 2, 3, 4, or 5
      
      // Update visible cards and hide others
      for (let i = 0; i < cards.length; i++) {
        if (i < activeCardCount) {
          // Show and update this card
          const randomCard = getRandomCard();
          const randomSize = getRandomSize();
          cards[i].style.display = 'block';
          updateCard(cards[i], randomCard, randomSize);
        } else {
          // Hide this card
          cards[i].style.display = 'none';
          cards[i].classList.remove('active', 'idle');
          displayedCards.delete(cards[i]);
        }
      }
      updateTitle();
      currentIndex++;
    }

    // Initialize cards with random data and positions (start with random count)
    activeCardCount = 2 + Math.floor(Math.random() * 4);
    for (let i = 0; i < cards.length; i++) {
      const card = cards[i];
      const randomCard = getRandomCard();
      const randomSize = getRandomSize();
      
      if (i < activeCardCount) {
        card.style.display = 'block';
        card.classList.add('idle');
        card.style.width = randomSize.width + 'px';
        card.querySelector('.card-label').textContent = randomCard.label;
        card.querySelector('.card-stat span:first-child').textContent = randomCard.stat;
        card.querySelector('.card-value').textContent = randomCard.value;
        
        const pos = getRandomPosition(randomSize.width, randomSize.height, displayedCards);
        card.style.left = pos.left + 'px';
        card.style.top = pos.top + 'px';
        
        displayedCards.set(card, {
          left: pos.left,
          top: pos.top,
          width: randomSize.width,
          height: randomSize.height
        });
      } else {
        card.style.display = 'none';
      }
    }
    
    updateTitle();

    // Cycle every 4 seconds
    setInterval(cycleCards, 4000);

    // =====================
    // FLOATING DOCUMENTS
    // =====================
    const documentTemplates = [
      // INVOICES
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-0847', rows: [{ label: 'Client', value: 'Westbrook Holdings' }, { label: 'Amount', value: 'Â£24,850.00', class: 'amount' }, { label: 'Due Date', value: '15 Jan 2025' }], stamp: 'Pending Approval' },
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-0912', rows: [{ label: 'Client', value: 'Sterling Trust' }, { label: 'Amount', value: 'Â£156,200.00', class: 'amount' }, { label: 'Status', value: 'Paid', class: 'positive' }], stamp: 'Processed' },
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-1023', rows: [{ label: 'Client', value: 'Pemberton Family' }, { label: 'Amount', value: 'Â£8,400.00', class: 'amount' }, { label: 'Service', value: 'Advisory Q4' }], stamp: 'Sent' },
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-1156', rows: [{ label: 'Client', value: 'Harrington Estate' }, { label: 'Amount', value: 'Â£42,750.00', class: 'amount' }, { label: 'Due', value: '30 Dec 2024' }], stamp: 'Overdue' },
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-0788', rows: [{ label: 'Vendor', value: 'Bloomberg LP' }, { label: 'Amount', value: '$28,000.00', class: 'amount' }, { label: 'Period', value: 'Annual' }], stamp: 'Auto-Pay' },
      { type: 'Invoice', icon: 'ðŸ“„', title: 'Invoice #INV-2024-0654', rows: [{ label: 'Client', value: 'Morgan Trust' }, { label: 'Amount', value: 'â‚¬89,500.00', class: 'amount' }, { label: 'Status', value: 'Partial', class: 'negative' }], stamp: 'In Dispute' },
      
      // TRADE TICKETS - EQUITIES
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY AAPL', rows: [{ label: 'Quantity', value: '500 shares' }, { label: 'Price', value: '$178.42', class: 'amount' }, { label: 'Total', value: '$89,210.00', class: 'amount' }], stamp: 'Executed' },
      { type: 'Trade Ticket', icon: 'ðŸ“‰', title: 'SELL MSFT', rows: [{ label: 'Quantity', value: '200 shares' }, { label: 'Price', value: '$374.58', class: 'amount' }, { label: 'P&L', value: '+$12,840', class: 'positive' }], stamp: 'Settled' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY NVDA', rows: [{ label: 'Quantity', value: '150 shares' }, { label: 'Price', value: '$485.22', class: 'amount' }, { label: 'Account', value: 'IB-Primary' }], stamp: 'Pending' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY TSLA', rows: [{ label: 'Quantity', value: '75 shares' }, { label: 'Price', value: '$248.90', class: 'amount' }, { label: 'P&L', value: '-$2,145', class: 'negative' }], stamp: 'Executed' },
      { type: 'Trade Ticket', icon: 'ðŸ“‰', title: 'SELL GOOGL', rows: [{ label: 'Quantity', value: '100 shares' }, { label: 'Price', value: '$138.21', class: 'amount' }, { label: 'Gain', value: '+18.4%', class: 'positive' }], stamp: 'Settled' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY AMZN', rows: [{ label: 'Quantity', value: '80 shares' }, { label: 'Price', value: '$185.50', class: 'amount' }, { label: 'Broker', value: 'Goldman Sachs' }], stamp: 'Confirmed' },
      { type: 'Trade Ticket', icon: 'ðŸ“‰', title: 'SELL META', rows: [{ label: 'Quantity', value: '250 shares' }, { label: 'Price', value: '$512.80', class: 'amount' }, { label: 'P&L', value: '+$42,500', class: 'positive' }], stamp: 'Executed' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY JPM', rows: [{ label: 'Quantity', value: '400 shares' }, { label: 'Price', value: '$198.45', class: 'amount' }, { label: 'Total', value: '$79,380', class: 'amount' }], stamp: 'Filled' },
      
      // TRADE TICKETS - BONDS
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY GOVT BOND', rows: [{ label: 'Face Value', value: 'Â£500,000' }, { label: 'Yield', value: '4.25%', class: 'positive' }, { label: 'Maturity', value: '2034' }], stamp: 'Confirmed' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY US TREASURY', rows: [{ label: 'Face Value', value: '$1,000,000' }, { label: 'Yield', value: '4.85%', class: 'positive' }, { label: 'Duration', value: '10Y' }], stamp: 'Settled' },
      { type: 'Trade Ticket', icon: 'ðŸ“‰', title: 'SELL CORP BOND', rows: [{ label: 'Issuer', value: 'Apple Inc' }, { label: 'Face Value', value: '$250,000' }, { label: 'P&L', value: '+$8,200', class: 'positive' }], stamp: 'Executed' },
      { type: 'Trade Ticket', icon: 'ðŸ“ˆ', title: 'BUY GILT 2035', rows: [{ label: 'Face Value', value: 'Â£750,000' }, { label: 'Coupon', value: '3.75%' }, { label: 'Price', value: '98.45' }], stamp: 'Pending' },
      
      // TRADE TICKETS - FX
      { type: 'FX Trade', icon: 'ðŸ’±', title: 'BUY EUR/GBP', rows: [{ label: 'Amount', value: 'â‚¬500,000' }, { label: 'Rate', value: '0.8542' }, { label: 'GBP', value: 'Â£427,100', class: 'amount' }], stamp: 'Executed' },
      { type: 'FX Trade', icon: 'ðŸ’±', title: 'SELL USD/CHF', rows: [{ label: 'Amount', value: '$1,200,000' }, { label: 'Rate', value: '0.8765' }, { label: 'CHF', value: '1,051,800', class: 'amount' }], stamp: 'Settled' },
      { type: 'FX Trade', icon: 'ðŸ’±', title: 'BUY GBP/USD', rows: [{ label: 'Amount', value: 'Â£800,000' }, { label: 'Rate', value: '1.2685' }, { label: 'Forward', value: '3 months' }], stamp: 'Hedged' },
      
      // TRADE TICKETS - ALTERNATIVES
      { type: 'Trade Ticket', icon: 'ðŸ¥‡', title: 'BUY GOLD', rows: [{ label: 'Quantity', value: '50 oz' }, { label: 'Price', value: '$2,045/oz', class: 'amount' }, { label: 'Total', value: '$102,250', class: 'amount' }], stamp: 'Vault Stored' },
      { type: 'Trade Ticket', icon: 'ðŸ›¢ï¸', title: 'SELL CRUDE OIL', rows: [{ label: 'Contracts', value: '10 lots' }, { label: 'Price', value: '$72.45/bbl' }, { label: 'P&L', value: '+$18,400', class: 'positive' }], stamp: 'Closed' },
      { type: 'Trade Ticket', icon: 'â‚¿', title: 'BUY BITCOIN', rows: [{ label: 'Quantity', value: '2.5 BTC' }, { label: 'Price', value: '$42,850', class: 'amount' }, { label: 'Custody', value: 'Fidelity' }], stamp: 'Confirmed' },
      { type: 'Trade Ticket', icon: 'ðŸ’Ž', title: 'BUY ETH', rows: [{ label: 'Quantity', value: '25 ETH' }, { label: 'Price', value: '$2,280', class: 'amount' }, { label: 'Wallet', value: 'Cold Storage' }], stamp: 'Transferred' },
      
      // BILLS
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Property Tax - Chelsea', rows: [{ label: 'Property', value: '14 Cadogan Sq' }, { label: 'Amount', value: 'Â£18,450.00', class: 'amount' }, { label: 'Due', value: '28 Dec 2024' }], stamp: 'Scheduled' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Insurance Premium', rows: [{ label: 'Policy', value: 'Art Collection' }, { label: 'Amount', value: 'Â£32,000.00', class: 'amount' }, { label: 'Renewal', value: 'Annual' }], stamp: 'Auto-Pay' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Yacht Maintenance', rows: [{ label: 'Vessel', value: 'Lady Victoria' }, { label: 'Amount', value: 'â‚¬85,000.00', class: 'amount' }, { label: 'Marina', value: 'Monaco' }], stamp: 'Pending' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Private Jet Charter', rows: [{ label: 'Route', value: 'LHR â†’ GVA' }, { label: 'Amount', value: 'Â£24,500.00', class: 'amount' }, { label: 'Date', value: '22 Dec 2024' }], stamp: 'Confirmed' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'School Fees', rows: [{ label: 'School', value: 'Eton College' }, { label: 'Amount', value: 'Â£48,500.00', class: 'amount' }, { label: 'Term', value: 'Spring 2025' }], stamp: 'Due Soon' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Security Services', rows: [{ label: 'Provider', value: 'G4S Private' }, { label: 'Amount', value: 'Â£8,200.00', class: 'amount' }, { label: 'Period', value: 'Monthly' }], stamp: 'Auto-Pay' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Staff Payroll', rows: [{ label: 'Employees', value: '12 staff' }, { label: 'Amount', value: 'Â£45,800.00', class: 'amount' }, { label: 'Period', value: 'December' }], stamp: 'Processing' },
      { type: 'Bill', icon: 'ðŸ§¾', title: 'Wine Storage', rows: [{ label: 'Facility', value: 'Berry Bros' }, { label: 'Cases', value: '240 cases' }, { label: 'Amount', value: 'Â£4,800.00', class: 'amount' }], stamp: 'Annual' },
      
      // HOLDINGS
      { type: 'Holdings', icon: 'ðŸ’¼', title: 'Tech Portfolio', rows: [{ label: 'Holdings', value: '24 positions' }, { label: 'Value', value: '$2.4M', class: 'amount' }, { label: 'Today', value: '+1.8%', class: 'positive' }], stamp: 'Live' },
      { type: 'Holdings', icon: 'ðŸ’¼', title: 'Fixed Income', rows: [{ label: 'Bonds', value: '18 positions' }, { label: 'Value', value: 'Â£4.2M', class: 'amount' }, { label: 'Yield', value: '4.6%', class: 'positive' }], stamp: 'Rebalanced' },
      { type: 'Holdings', icon: 'ðŸ ', title: 'Property Portfolio', rows: [{ label: 'Properties', value: '6 assets' }, { label: 'Value', value: 'Â£12.8M', class: 'amount' }, { label: 'Rental Yield', value: '3.2%', class: 'positive' }], stamp: 'Updated' },
      { type: 'Holdings', icon: 'ðŸ’¼', title: 'Dividend Stocks', rows: [{ label: 'Holdings', value: '32 positions' }, { label: 'Value', value: 'Â£1.8M', class: 'amount' }, { label: 'Yield', value: '5.2%', class: 'positive' }], stamp: 'Income Focus' },
      { type: 'Holdings', icon: 'ðŸ’¼', title: 'PE Investments', rows: [{ label: 'Funds', value: '8 positions' }, { label: 'Committed', value: '$5.5M', class: 'amount' }, { label: 'IRR', value: '+22%', class: 'positive' }], stamp: 'Illiquid' },
      { type: 'Holdings', icon: 'ðŸ’¼', title: 'Hedge Funds', rows: [{ label: 'Allocations', value: '5 funds' }, { label: 'Value', value: '$3.2M', class: 'amount' }, { label: 'YTD', value: '+14.2%', class: 'positive' }], stamp: 'Quarterly' },
      { type: 'Holdings', icon: 'ðŸŽ¨', title: 'Art Collection', rows: [{ label: 'Pieces', value: '28 works' }, { label: 'Value', value: 'Â£8.4M', class: 'amount' }, { label: 'Insured', value: 'Â£10M' }], stamp: 'Appraised' },
      { type: 'Holdings', icon: 'ðŸ·', title: 'Wine Collection', rows: [{ label: 'Bottles', value: '1,840' }, { label: 'Value', value: 'Â£420,000', class: 'amount' }, { label: 'Top', value: 'Petrus 1989' }], stamp: 'Catalogued' },
      { type: 'Holdings', icon: 'âŒš', title: 'Watch Collection', rows: [{ label: 'Pieces', value: '14 watches' }, { label: 'Value', value: 'Â£680,000', class: 'amount' }, { label: 'Flagship', value: 'Patek 5711' }], stamp: 'Insured' },
      { type: 'Holdings', icon: 'ðŸš—', title: 'Classic Cars', rows: [{ label: 'Vehicles', value: '4 cars' }, { label: 'Value', value: 'Â£2.1M', class: 'amount' }, { label: 'Storage', value: 'Climate Ctrl' }], stamp: 'Garaged' },
      
      // STATEMENTS & REPORTS
      { type: 'Statement', icon: 'ðŸ“‹', title: 'Q4 Performance', rows: [{ label: 'Return', value: '+8.4%', class: 'positive' }, { label: 'Benchmark', value: '+6.2%' }, { label: 'Alpha', value: '+2.2%', class: 'positive' }], stamp: 'Generated' },
      { type: 'Statement', icon: 'ðŸ“‹', title: 'Monthly Summary', rows: [{ label: 'Net Worth', value: 'Â£24.8M', class: 'amount' }, { label: 'Change', value: '+Â£420K', class: 'positive' }, { label: 'As of', value: '30 Nov 2024' }], stamp: 'Final' },
      { type: 'Statement', icon: 'ðŸ“‹', title: 'YTD Report', rows: [{ label: 'Total Return', value: '+12.8%', class: 'positive' }, { label: 'Income', value: 'Â£185,000', class: 'amount' }, { label: 'Expenses', value: 'Â£42,000' }], stamp: 'Draft' },
      { type: 'Report', icon: 'ðŸ“Š', title: 'Risk Analysis', rows: [{ label: 'VaR (95%)', value: 'Â£485,000' }, { label: 'Sharpe', value: '1.42', class: 'positive' }, { label: 'Beta', value: '0.85' }], stamp: 'Reviewed' },
      { type: 'Report', icon: 'ðŸ“Š', title: 'ESG Scoring', rows: [{ label: 'Score', value: '72/100', class: 'positive' }, { label: 'Carbon', value: '145 tCO2' }, { label: 'Trend', value: 'Improving' }], stamp: 'Annual' },
      { type: 'Report', icon: 'ðŸ“Š', title: 'Liquidity Report', rows: [{ label: 'Cash', value: 'Â£1.2M', class: 'amount' }, { label: 'T+3 Liquid', value: 'Â£8.4M', class: 'amount' }, { label: 'Coverage', value: '18 months' }], stamp: 'Current' },
      
      // WIRE TRANSFERS
      { type: 'Wire Transfer', icon: 'ðŸ’¸', title: 'Outgoing Wire', rows: [{ label: 'To', value: 'UBS Zurich' }, { label: 'Amount', value: 'CHF 850,000', class: 'amount' }, { label: 'Ref', value: 'TRF-48291' }], stamp: 'Pending' },
      { type: 'Wire Transfer', icon: 'ðŸ’¸', title: 'Incoming Wire', rows: [{ label: 'From', value: 'Coutts London' }, { label: 'Amount', value: 'Â£425,000', class: 'amount' }, { label: 'Status', value: 'Cleared', class: 'positive' }], stamp: 'Received' },
      { type: 'Wire Transfer', icon: 'ðŸ’¸', title: 'SWIFT Transfer', rows: [{ label: 'To', value: 'Credit Suisse' }, { label: 'Amount', value: 'â‚¬1,200,000', class: 'amount' }, { label: 'Purpose', value: 'Investment' }], stamp: 'Processing' },
      { type: 'Wire Transfer', icon: 'ðŸ’¸', title: 'Internal Transfer', rows: [{ label: 'From', value: 'Operating A/C' }, { label: 'To', value: 'Investment A/C' }, { label: 'Amount', value: 'Â£500,000', class: 'amount' }], stamp: 'Complete' },
      
      // DIVIDENDS & INCOME
      { type: 'Dividend', icon: 'ðŸ’°', title: 'Dividend Received', rows: [{ label: 'Security', value: 'Shell PLC' }, { label: 'Amount', value: 'Â£4,280.00', class: 'amount' }, { label: 'Ex-Date', value: '12 Dec 2024' }], stamp: 'Credited' },
      { type: 'Dividend', icon: 'ðŸ’°', title: 'Dividend Received', rows: [{ label: 'Security', value: 'HSBC Holdings' }, { label: 'Amount', value: 'Â£6,840.00', class: 'amount' }, { label: 'Tax', value: 'Withheld 15%' }], stamp: 'Settled' },
      { type: 'Dividend', icon: 'ðŸ’°', title: 'Dividend Received', rows: [{ label: 'Security', value: 'Unilever' }, { label: 'Amount', value: 'â‚¬3,450.00', class: 'amount' }, { label: 'Frequency', value: 'Quarterly' }], stamp: 'Reinvested' },
      { type: 'Interest', icon: 'ðŸ’°', title: 'Bond Coupon', rows: [{ label: 'Bond', value: 'UK Gilt 2032' }, { label: 'Amount', value: 'Â£18,750.00', class: 'amount' }, { label: 'Next', value: '15 Jun 2025' }], stamp: 'Credited' },
      { type: 'Interest', icon: 'ðŸ’°', title: 'Deposit Interest', rows: [{ label: 'Account', value: 'Lloyds Savings' }, { label: 'Amount', value: 'Â£2,145.00', class: 'amount' }, { label: 'Rate', value: '4.85%' }], stamp: 'Monthly' },
      { type: 'Rental', icon: 'ðŸ ', title: 'Rental Income', rows: [{ label: 'Property', value: 'Mayfair Flat' }, { label: 'Amount', value: 'Â£8,500.00', class: 'amount' }, { label: 'Tenant', value: 'Corporate Let' }], stamp: 'Received' },
      
      // TAX DOCUMENTS
      { type: 'Tax Doc', icon: 'ðŸ“‘', title: 'CGT Calculation', rows: [{ label: 'Tax Year', value: '2024/25' }, { label: 'Gains', value: 'Â£124,500', class: 'amount' }, { label: 'Tax Due', value: 'Â£24,900', class: 'negative' }], stamp: 'Draft' },
      { type: 'Tax Doc', icon: 'ðŸ“‘', title: 'IHT Planning', rows: [{ label: 'Estate Value', value: 'Â£28.5M', class: 'amount' }, { label: 'Potential IHT', value: 'Â£8.2M', class: 'negative' }, { label: 'Status', value: 'Review' }], stamp: 'Advisory' },
      { type: 'Tax Doc', icon: 'ðŸ“‘', title: 'SA Return 2024', rows: [{ label: 'Income', value: 'Â£485,000', class: 'amount' }, { label: 'Tax Paid', value: 'Â£195,000' }, { label: 'Due', value: '31 Jan 2025' }], stamp: 'Filed' },
      { type: 'Tax Doc', icon: 'ðŸ“‘', title: 'VAT Return', rows: [{ label: 'Period', value: 'Q4 2024' }, { label: 'Output VAT', value: 'Â£42,000' }, { label: 'Refund', value: 'Â£8,450', class: 'positive' }], stamp: 'Submitted' },
      { type: 'Tax Doc', icon: 'ðŸ“‘', title: 'Trust Tax Return', rows: [{ label: 'Trust', value: 'Family Trust 2018' }, { label: 'Income', value: 'Â£125,000', class: 'amount' }, { label: 'Beneficiaries', value: '4' }], stamp: 'Pending' },
      
      // LEGAL & COMPLIANCE
      { type: 'Legal', icon: 'âš–ï¸', title: 'Will Update', rows: [{ label: 'Version', value: '2024 Rev 3' }, { label: 'Executor', value: 'Coutts Trust' }, { label: 'Witnesses', value: '2 signed' }], stamp: 'Notarized' },
      { type: 'Legal', icon: 'âš–ï¸', title: 'Trust Deed', rows: [{ label: 'Trust', value: 'Children\'s Trust' }, { label: 'Assets', value: 'Â£2.4M', class: 'amount' }, { label: 'Vesting', value: 'Age 25' }], stamp: 'Active' },
      { type: 'Legal', icon: 'âš–ï¸', title: 'LPA Registration', rows: [{ label: 'Type', value: 'Property & Finance' }, { label: 'Attorney', value: 'Spouse' }, { label: 'Status', value: 'Registered', class: 'positive' }], stamp: 'OPG Approved' },
      { type: 'Compliance', icon: 'âœ…', title: 'KYC Review', rows: [{ label: 'Entity', value: 'Family Holdings' }, { label: 'Risk', value: 'Low', class: 'positive' }, { label: 'Next', value: 'Dec 2025' }], stamp: 'Approved' },
      { type: 'Compliance', icon: 'âœ…', title: 'AML Check', rows: [{ label: 'Transaction', value: 'Wire Â£850K' }, { label: 'Status', value: 'Cleared', class: 'positive' }, { label: 'Ref', value: 'AML-2024-4821' }], stamp: 'Passed' },
      
      // INSURANCE
      { type: 'Insurance', icon: 'ðŸ›¡ï¸', title: 'Life Policy', rows: [{ label: 'Cover', value: 'Â£5,000,000' }, { label: 'Premium', value: 'Â£8,400/yr', class: 'amount' }, { label: 'Term', value: 'Whole Life' }], stamp: 'Active' },
      { type: 'Insurance', icon: 'ðŸ›¡ï¸', title: 'Property Insurance', rows: [{ label: 'Properties', value: '6 covered' }, { label: 'Value', value: 'Â£14.2M', class: 'amount' }, { label: 'Excess', value: 'Â£10,000' }], stamp: 'Renewed' },
      { type: 'Insurance', icon: 'ðŸ›¡ï¸', title: 'Liability Cover', rows: [{ label: 'Type', value: 'D&O Insurance' }, { label: 'Limit', value: 'Â£10M', class: 'amount' }, { label: 'Claims', value: 'None', class: 'positive' }], stamp: 'Current' },
      
      // BANK STATEMENTS
      { type: 'Bank Statement', icon: 'ðŸ¦', title: 'Coutts Current', rows: [{ label: 'Balance', value: 'Â£842,500', class: 'amount' }, { label: 'In', value: '+Â£125,000', class: 'positive' }, { label: 'Out', value: '-Â£48,200', class: 'negative' }], stamp: 'December' },
      { type: 'Bank Statement', icon: 'ðŸ¦', title: 'UBS USD Account', rows: [{ label: 'Balance', value: '$1,245,000', class: 'amount' }, { label: 'Interest', value: '+$4,850', class: 'positive' }, { label: 'Status', value: 'Verified' }], stamp: 'Monthly' },
      { type: 'Bank Statement', icon: 'ðŸ¦', title: 'Barclays Business', rows: [{ label: 'Balance', value: 'Â£328,400', class: 'amount' }, { label: 'Payroll', value: '-Â£45,800', class: 'negative' }, { label: 'VAT', value: '-Â£12,400' }], stamp: 'Reconciled' },
      
      // VALUATIONS
      { type: 'Valuation', icon: 'ðŸ“', title: 'Property Valuation', rows: [{ label: 'Address', value: '14 Cadogan Sq' }, { label: 'Value', value: 'Â£4.8M', class: 'amount' }, { label: 'Change', value: '+12%', class: 'positive' }], stamp: 'RICS' },
      { type: 'Valuation', icon: 'ðŸ“', title: 'Art Appraisal', rows: [{ label: 'Artist', value: 'Banksy' }, { label: 'Work', value: 'Girl with Balloon' }, { label: 'Value', value: 'Â£1.2M', class: 'amount' }], stamp: 'Christie\'s' },
      { type: 'Valuation', icon: 'ðŸ“', title: 'Business Valuation', rows: [{ label: 'Company', value: 'Holdings Ltd' }, { label: 'EBITDA', value: 'Â£2.4M' }, { label: 'Value', value: 'Â£18M', class: 'amount' }], stamp: 'Draft' },
      
      // CONTRACTS & AGREEMENTS
      { type: 'Contract', icon: 'ðŸ“ƒ', title: 'Lease Agreement', rows: [{ label: 'Property', value: 'Office Space' }, { label: 'Rent', value: 'Â£85,000/yr', class: 'amount' }, { label: 'Term', value: '5 years' }], stamp: 'Signed' },
      { type: 'Contract', icon: 'ðŸ“ƒ', title: 'Employment Contract', rows: [{ label: 'Role', value: 'Family Office CEO' }, { label: 'Salary', value: 'Â£280,000', class: 'amount' }, { label: 'Start', value: '1 Jan 2025' }], stamp: 'Executed' },
      { type: 'Contract', icon: 'ðŸ“ƒ', title: 'NDA Agreement', rows: [{ label: 'Counterparty', value: 'PE Fund III' }, { label: 'Term', value: '3 years' }, { label: 'Jurisdiction', value: 'England' }], stamp: 'Active' },
      
      // BOARD & GOVERNANCE
      { type: 'Board Doc', icon: 'ðŸ‘”', title: 'Board Minutes', rows: [{ label: 'Meeting', value: 'Q4 2024' }, { label: 'Attendees', value: '5 directors' }, { label: 'Resolutions', value: '3 passed' }], stamp: 'Approved' },
      { type: 'Board Doc', icon: 'ðŸ‘”', title: 'Director Fee', rows: [{ label: 'Company', value: 'Holdings PLC' }, { label: 'Fee', value: 'Â£45,000/yr', class: 'amount' }, { label: 'Role', value: 'NED' }], stamp: 'Annual' },
      { type: 'Board Doc', icon: 'ðŸ‘”', title: 'AGM Notice', rows: [{ label: 'Company', value: 'Family Inv Ltd' }, { label: 'Date', value: '15 Mar 2025' }, { label: 'Venue', value: 'London' }], stamp: 'Sent' },
      
      // PHILANTHROPY
      { type: 'Donation', icon: 'â¤ï¸', title: 'Charitable Donation', rows: [{ label: 'Charity', value: 'Wellcome Trust' }, { label: 'Amount', value: 'Â£50,000', class: 'amount' }, { label: 'Gift Aid', value: 'Claimed', class: 'positive' }], stamp: 'Receipt' },
      { type: 'Donation', icon: 'â¤ï¸', title: 'Foundation Grant', rows: [{ label: 'Recipient', value: 'Local School' }, { label: 'Amount', value: 'Â£25,000', class: 'amount' }, { label: 'Purpose', value: 'Bursary Fund' }], stamp: 'Approved' },
      
      // PRIVATE EQUITY & CAPITAL CALLS
      { type: 'Capital Call', icon: 'ðŸ“¨', title: 'Capital Call Notice', rows: [{ label: 'Fund', value: 'Sequoia Fund XIV' }, { label: 'Amount', value: '$125,000', class: 'amount' }, { label: 'Due Date', value: '15 Jan 2025' }], stamp: 'Action Required' },
      { type: 'Capital Call', icon: 'ðŸ“¨', title: 'Capital Call Notice', rows: [{ label: 'Fund', value: 'KKR PE Fund III' }, { label: 'Amount', value: '$85,000', class: 'amount' }, { label: 'Due Date', value: '28 Dec 2024' }], stamp: 'Urgent' },
      { type: 'Capital Call', icon: 'ðŸ“¨', title: 'Capital Call Notice', rows: [{ label: 'Fund', value: 'Blackstone Real Estate' }, { label: 'Amount', value: 'Â£75,000', class: 'amount' }, { label: 'Due Date', value: '10 Feb 2025' }], stamp: 'Pending' },
      { type: 'PE Distribution', icon: 'ðŸ’°', title: 'Distribution Notice', rows: [{ label: 'Fund', value: 'Apollo Fund VIII' }, { label: 'Amount', value: '$215,000', class: 'amount' }, { label: 'Type', value: 'Proceeds', class: 'positive' }], stamp: 'Received' },
      { type: 'PE Distribution', icon: 'ðŸ’°', title: 'Distribution Notice', rows: [{ label: 'Fund', value: 'Carlyle Europe V' }, { label: 'Amount', value: 'â‚¬180,000', class: 'amount' }, { label: 'Type', value: 'Dividend', class: 'positive' }], stamp: 'Credited' },
      { type: 'PE Statement', icon: 'ðŸ“Š', title: 'Quarterly Report', rows: [{ label: 'Fund', value: 'TPG Growth VI' }, { label: 'NAV', value: '$1.2M', class: 'amount' }, { label: 'IRR', value: '+22%', class: 'positive' }], stamp: 'Q3 2024' },
      { type: 'PE Statement', icon: 'ðŸ“Š', title: 'Fund Update', rows: [{ label: 'Fund', value: 'Warburg Pincus XIV' }, { label: 'MOIC', value: '1.6x', class: 'positive' }, { label: 'Vintage', value: '2020' }], stamp: 'Annual' },
      { type: 'PE Commitment', icon: 'âœï¸', title: 'Commitment Letter', rows: [{ label: 'Fund', value: 'Thoma Bravo XV' }, { label: 'Commitment', value: '$500,000', class: 'amount' }, { label: 'Unfunded', value: '$320,000' }], stamp: 'Signed' },
      { type: 'Co-Invest', icon: 'ðŸ¤', title: 'Co-Investment', rows: [{ label: 'Deal', value: 'Tech Acquisition' }, { label: 'Amount', value: '$150,000', class: 'amount' }, { label: 'Sponsor', value: 'Vista Equity' }], stamp: 'Closed' },
      
      // STRUCTURED NOTES
      { type: 'Structured Note', icon: 'ðŸ“ˆ', title: 'Autocallable Note', rows: [{ label: 'Underlying', value: 'FTSE 100' }, { label: 'Principal', value: 'Â£500,000', class: 'amount' }, { label: 'Barrier', value: '60%' }], stamp: 'Monitoring' },
      { type: 'Structured Note', icon: 'ðŸ“ˆ', title: 'Autocallable Note', rows: [{ label: 'Underlying', value: 'S&P 500' }, { label: 'Principal', value: '$750,000', class: 'amount' }, { label: 'Coupon', value: '9.2%', class: 'positive' }], stamp: 'Active' },
      { type: 'Structured Note', icon: 'ðŸ“ˆ', title: 'Barrier Note', rows: [{ label: 'Underlying', value: 'Euro Stoxx 50' }, { label: 'Principal', value: 'â‚¬400,000', class: 'amount' }, { label: 'Buffer', value: '35%' }], stamp: 'In Range' },
      { type: 'Note Coupon', icon: 'ðŸ’µ', title: 'Coupon Payment', rows: [{ label: 'Note', value: 'HSBC Autocall #127' }, { label: 'Amount', value: 'Â£11,500', class: 'amount' }, { label: 'Period', value: 'Q4 2024' }], stamp: 'Paid' },
      { type: 'Note Coupon', icon: 'ðŸ’µ', title: 'Coupon Payment', rows: [{ label: 'Note', value: 'MS Phoenix #89' }, { label: 'Amount', value: '$17,250', class: 'amount' }, { label: 'Yield', value: '8.5%', class: 'positive' }], stamp: 'Credited' },
      { type: 'Note Maturity', icon: 'ðŸ“…', title: 'Maturity Notice', rows: [{ label: 'Note', value: 'UBS CLN #456' }, { label: 'Principal', value: 'Â£350,000', class: 'amount' }, { label: 'Date', value: '15 Mar 2025' }], stamp: 'Upcoming' },
      { type: 'Note Event', icon: 'âš ï¸', title: 'Barrier Breach Alert', rows: [{ label: 'Note', value: 'SG Barrier #234' }, { label: 'Underlying', value: 'Nikkei 225' }, { label: 'Status', value: 'Breached', class: 'negative' }], stamp: 'Alert' },
      { type: 'CLN', icon: 'ðŸ¦', title: 'Credit Linked Note', rows: [{ label: 'Reference', value: 'IG Corporate Basket' }, { label: 'Principal', value: 'Â£280,000', class: 'amount' }, { label: 'Spread', value: '+185bps' }], stamp: 'Active' }
    ];

    const floatingDocs = document.querySelectorAll('.floating-doc');
    let docIndex = 0;
    const displayedDocs = new Map(); // Track active document positions

    // Breaking news headlines (mix of positive and negative)
    const breakingNewsHeadlines = [
      // Negative
      { text: 'FED RAISES INTEREST RATES BY 25bps', type: 'negative' },
      { text: 'YOUR EQUITY HOLDINGS DOWN 2% OVERNIGHT', type: 'negative' },
      { text: 'MARKET ALERT: S&P 500 DOWN 4%', type: 'negative' },
      { text: 'YOUR PORTFOLIO DOWN Â£45,000 TODAY', type: 'negative' },
      { text: 'NASDAQ ENTERS CORRECTION TERRITORY', type: 'negative' },
      { text: 'GBP/USD DOWN 2% ON ECONOMIC DATA', type: 'negative' },
      { text: 'BOND YIELDS SPIKE TO 5-YEAR HIGH', type: 'negative' },
      // Positive
      { text: 'FED LOWERS INTEREST RATES BY 50bps', type: 'positive' },
      { text: 'YOUR PORTFOLIO UP Â£62,000 TODAY', type: 'positive' },
      { text: 'S&P 500 HITS ALL-TIME HIGH', type: 'positive' },
      { text: 'YOUR EQUITY HOLDINGS UP 3.2% OVERNIGHT', type: 'positive' },
      { text: 'NASDAQ RALLY: TECH STOCKS SURGE 5%', type: 'positive' },
      { text: 'DIVIDEND INCOME: Â£8,450 RECEIVED', type: 'positive' },
      { text: 'PROPERTY PORTFOLIO UP 12% YTD', type: 'positive' },
      { text: 'GOLD HOLDINGS REACH NEW HIGHS', type: 'positive' }
    ];

    function checkDocCollision(left, top, width, height, excludeDoc) {
      const padding = 30;
      const rect1 = {
        left: left - padding,
        right: left + width + padding,
        top: top - padding,
        bottom: top + height + padding
      };

      // Check collision with other active documents
      for (const [docElement, docData] of displayedDocs) {
        if (docElement === excludeDoc) continue;
        const rect2 = {
          left: docData.left,
          right: docData.left + docData.width,
          top: docData.top,
          bottom: docData.top + docData.height
        };

        if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
          return true;
        }
      }

      // Check collision with cards
      for (const [cardElement, cardData] of displayedCards) {
        const rect2 = {
          left: cardData.left,
          right: cardData.left + cardData.width,
          top: cardData.top,
          bottom: cardData.top + cardData.height
        };

        if (!(rect1.right < rect2.left || rect1.left > rect2.right || rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {
          return true;
        }
      }

      // Check collision with center branding
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const centerX = vw / 2;
      const centerY = vh / 2;
      const brandZoneRadius = 320;
      const docCenterX = left + width / 2;
      const docCenterY = top + height / 2;
      const distanceFromCenter = Math.sqrt(Math.pow(docCenterX - centerX, 2) + Math.pow(docCenterY - centerY, 2));

      if (distanceFromCenter < brandZoneRadius) {
        return true;
      }

      return false;
    }

    function getRandomDocPosition(excludeDoc) {
      const vw = window.innerWidth;
      const vh = window.innerHeight;
      
      // Responsive doc dimensions
      let docWidth, docHeight;
      if (vw <= 480) {
        docWidth = 130;
        docHeight = 100;
      } else if (vw <= 768) {
        docWidth = 180;
        docHeight = 140;
      } else {
        docWidth = 240;
        docHeight = 180;
      }
      
      let left, top;
      let attempts = 0;
      const maxAttempts = 40;
      
      do {
        // Position in corners or edges
        const zone = Math.random();
        if (zone < 0.25) {
          left = Math.random() * (vw * 0.25 - docWidth) + 20;
          top = Math.random() * (vh - docHeight - 150) + 80;
        } else if (zone < 0.5) {
          left = vw * 0.75 + Math.random() * (vw * 0.25 - docWidth - 20);
          top = Math.random() * (vh - docHeight - 150) + 80;
        } else if (zone < 0.75) {
          left = Math.random() * (vw - docWidth - 40) + 20;
          top = Math.random() * (vh * 0.2) + 60;
        } else {
          left = Math.random() * (vw - docWidth - 40) + 20;
          top = vh * 0.65 + Math.random() * (vh * 0.15);
        }
        
        attempts++;
        if (!checkDocCollision(left, top, docWidth, docHeight, excludeDoc) || attempts >= maxAttempts) break;
      } while (true);
      
      return { left, top, width: docWidth, height: docHeight };
    }

    function createDocumentHTML(template) {
      let rowsHTML = template.rows.map(row => 
        `<div class="doc-row">
          <span class="doc-label">${row.label}</span>
          <span class="doc-value ${row.class || ''}">${row.value}</span>
        </div>`
      ).join('');
      
      return `
        <div class="doc-header">
          <div class="doc-icon">${template.icon}</div>
          <span class="doc-type">${template.type}</span>
        </div>
        <div class="doc-title">${template.title}</div>
        <div class="doc-details">
          ${rowsHTML}
        </div>
        <div class="doc-stamp">${template.stamp}</div>
      `;
    }

    function launchDocument() {
      const roll = Math.random();
      
      if (roll < 0.7) {
        // 70% chance: show one document
        launchSingleDoc();
      } else {
        // 30% chance: show two documents at once
        launchSingleDoc();
        setTimeout(() => launchSingleDoc(), 200 + Math.random() * 400);
      }
    }

    function launchSingleDoc() {
      // Boost voice spectrum activity - document launch
      lastActivityTime = Date.now();
      updateSpectrumActivity(8 + Math.random() * 12); // 8-20 boost (subtle)
      
      const doc = floatingDocs[docIndex % floatingDocs.length];
      docIndex++;
      
      // Reset animation and remove from tracking
      doc.classList.remove('active', 'active-alt', 'falling');
      displayedDocs.delete(doc);
      
      // Pick random template
      const template = documentTemplates[Math.floor(Math.random() * documentTemplates.length)];
      doc.innerHTML = createDocumentHTML(template);
      
      // Position with collision detection
      let pos = getRandomDocPosition(doc);
      let { left, top, width, height } = pos;
      
      // Adjust position if it overlaps with brand name area (center)
      const vh = window.innerHeight;
      const vw = window.innerWidth;
      const centerY = vh / 2;
      // Larger brand zone to protect the title
      const brandZoneTop = centerY - 120;
      const brandZoneBottom = centerY + 120;
      const docBottom = top + height;
      const docTop = top;
      
      // If doc overlaps with brand zone, push it away
      if (docTop < brandZoneBottom && docBottom > brandZoneTop) {
        // Doc is in the brand zone - decide to push up or down
        const distanceToTop = docTop - brandZoneTop;
        const distanceToBottom = brandZoneBottom - docBottom;
        
        if (distanceToTop < distanceToBottom) {
          // Closer to top - push up
          top = brandZoneTop - height - 25;
        } else {
          // Closer to bottom - push down
          top = brandZoneBottom + 25;
        }
        
        // Ensure we stay in viewport
        if (top < 0) top = brandZoneBottom + 25;
        if (top + height > vh) top = brandZoneTop - height - 25;
      }
      
      doc.style.left = left + 'px';
      doc.style.top = top + 'px';
      
      // Track this document's position
      displayedDocs.set(doc, {
        left: left,
        top: top,
        width: width,
        height: height
      });
      
      // Trigger animation (alternate between two styles)
      setTimeout(() => {
        doc.classList.add(Math.random() > 0.5 ? 'active' : 'active-alt');
      }, 50);
      
      // Remove animation class and tracking after complete
      setTimeout(() => {
        doc.classList.remove('active', 'active-alt');
        displayedDocs.delete(doc);
      }, 5000);
    }

    // Breaking News Feature - 10% chance on each cycle
    let breakingNewsActive = false;
    
    function triggerBreakingNews() {
      if (breakingNewsActive) return;
      breakingNewsActive = true;
      
      // Activity boost for breaking news - subtle increase
      lastActivityTime = Date.now();
      updateSpectrumActivity(25 + Math.random() * 15); // 25-40 boost
      
      const newsEl = document.getElementById('breaking-news');
      const newsText = document.getElementById('breaking-news-text');
      const headline = breakingNewsHeadlines[Math.floor(Math.random() * breakingNewsHeadlines.length)];
      const isPositive = headline.type === 'positive';
      
      newsText.textContent = headline.text;
      
      // Update styling based on positive/negative - subtle muted tones
      const newsContent = newsEl.querySelector('.breaking-news-content');
      const labelEl = newsEl.querySelector('.breaking-label');
      if (isPositive) {
        newsContent.style.borderColor = 'rgba(120, 160, 140, 0.25)';
        newsContent.style.boxShadow = '0 0 15px rgba(120, 160, 140, 0.08), 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.03)';
        labelEl.style.color = 'rgba(140, 180, 160, 0.7)';
        labelEl.style.background = 'rgba(120, 160, 140, 0.08)';
        labelEl.style.borderColor = 'rgba(120, 160, 140, 0.15)';
      } else {
        newsContent.style.borderColor = 'rgba(180, 120, 120, 0.25)';
        newsContent.style.boxShadow = '0 0 15px rgba(180, 120, 120, 0.08), 0 8px 32px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.03)';
        labelEl.style.color = 'rgba(200, 140, 140, 0.7)';
        labelEl.style.background = 'rgba(180, 120, 120, 0.08)';
        labelEl.style.borderColor = 'rgba(180, 120, 120, 0.15)';
      }
      newsEl.classList.add('active');
      
      // Make all cards fall
      cards.forEach((card, i) => {
        setTimeout(() => {
          card.classList.remove('active', 'idle', 'exit');
          card.classList.add('falling');
        }, i * 100);
      });
      
      // Make all docs fall
      floatingDocs.forEach((doc, i) => {
        setTimeout(() => {
          doc.classList.remove('active', 'active-alt');
          doc.classList.add('falling');
        }, i * 80);
      });
      
      // Hide news and restore after delay
      setTimeout(() => {
        newsEl.classList.remove('active');
        
        // Reset cards
        setTimeout(() => {
          displayedCards.clear();
          cards.forEach((card, i) => {
            card.classList.remove('falling');
            const randomCard = getRandomCard();
            const randomSize = getRandomSize();
            card.style.width = randomSize.width + 'px';
            card.querySelector('.card-label').textContent = randomCard.label;
            card.querySelector('.card-stat span:first-child').textContent = randomCard.stat;
            card.querySelector('.card-value').textContent = randomCard.value;
            
            const pos = getRandomPosition(randomSize.width, randomSize.height, displayedCards);
            card.style.left = pos.left + 'px';
            card.style.top = pos.top + 'px';
            
            displayedCards.set(card, {
              left: pos.left,
              top: pos.top,
              width: randomSize.width,
              height: randomSize.height
            });
            
            card.classList.add('active');
            setTimeout(() => {
              card.classList.remove('active');
              card.classList.add('idle');
            }, 900);
          });
          
          // Reset docs tracking
          displayedDocs.clear();
          floatingDocs.forEach(doc => {
            doc.classList.remove('falling', 'active', 'active-alt');
          });
          
          breakingNewsActive = false;
        }, 500);
      }, 3500);
    }

    // Launch documents at random intervals
    function scheduleNextDocument() {
      const delay = 2000 + Math.random() * 3000; // 2-5 seconds
      setTimeout(() => {
        // 20% chance of breaking news
        if (!breakingNewsActive && Math.random() < 0.20) {
          triggerBreakingNews();
        } else if (!breakingNewsActive) {
          launchDocument();
        }
        scheduleNextDocument();
      }, delay);
    }
    
    // Start document animations after a short delay
    setTimeout(scheduleNextDocument, 2000);
  </script>
</body>
</html>
